<!DOCTYPE html><html lang="zh"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>VIP视频解析</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:linear-gradient(135deg,#00ffff,#0000ff);font-family:'Microsoft YaHei',Arial,sans-serif;min-height:100vh;padding:20px;transition:all 0.3s ease}.container{max-width:1200px;margin:0 auto;padding:20px}.header{text-align:center;margin-bottom:30px;color:white;transition:all 0.3s ease}.header h1{font-size:2.5rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,0.3)}.header p{font-size:1rem;opacity:0.9}.instructions{text-align:center;color:white;font-size:1rem;margin-bottom:20px;padding:15px;background:rgba(0,0,0,0.2);border-radius:10px;transition:all 0.3s ease}.search-container{background:rgba(255,255,255,0.9);border-radius:10px;padding:25px;box-shadow:0 8px 16px rgba(0,0,0,0.2);margin-bottom:30px;transition:all 0.3s ease}.search-container .search:first-child{margin-bottom:20px}.search{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;align-items:center}.search input{flex:1;min-width:300px;padding:12px 15px;border:2px solid #37964e;border-radius:30px;font-size:16px;outline:none;transition:all 0.3s ease}.search input:focus{border-color:#2c7a40;box-shadow:0 0 8px rgba(55,150,78,0.5);transform:translateY(-1px)}button{padding:12px 20px;border:none;border-radius:30px;background:#37964e;color:white;font-size:16px;cursor:pointer;transition:all 0.3s ease;font-family:inherit}button:hover:not(:disabled){background:#2c7a40;transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2)}button:active:not(:disabled){transform:translateY(0);box-shadow:0 2px 4px rgba(0,0,0,0.1)}button:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.parse-btn{background:#00ee00 !important}.parse-btn:hover:not(:disabled){background:#00aa00 !important}.reset-btn{background:#ff5050 !important}.reset-btn:hover:not(:disabled){background:#ff0000 !important}.player-controls{display:none;background:rgba(255,255,255,0.9);border-radius:10px;padding:20px;box-shadow:0 8px 16px rgba(0,0,0,0.2);margin-bottom:20px;text-align:center;transition:all 0.3s ease}.player-container{background:rgba(255,255,255,0.9);border-radius:10px;padding:20px;box-shadow:0 8px 16px rgba(0,0,0,0.2);margin-bottom:20px;display:none;transition:all 0.3s ease}iframe{display:block;width:100%;max-width:1024px;height:512px;margin:0 auto;background-color:#f0f0f0;border:1px solid #ddd;border-radius:5px;transition:all 0.3s ease}.loading{display:none;text-align:center;color:white;font-size:1.2rem;margin:20px 0;transition:all 0.3s ease}.spinner{border:4px solid rgba(255,255,255,0.3);border-radius:50%;border-top:4px solid white;width:30px;height:30px;animation:spin 1s linear infinite;margin:0 auto 10px}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.notification{position:fixed;top:20px;right:20px;background:rgba(0,0,0,0.8);color:white;padding:15px 20px;border-radius:5px;z-index:1000;display:none;animation:slideIn 0.3s ease-out;max-width:300px}.notification.success{background:rgba(22,202,5,0.9)}.notification.error{background:rgba(244,67,54,0.9)}.notification.info{background:rgba(33,150,243,0.9)}@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.line-status{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:15px;font-size:0.9rem}.status-item{display:flex;align-items:center;gap:5px;color:#666}.status-dot{width:10px;height:10px;border-radius:50%;background:#ccc}.status-dot.online{background:#4CAF50}.status-dot.offline{background:#f44336}.status-dot.testing{background:#FFC107;animation:pulse 1.5s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}@media (max-width:768px){.container{padding:10px}.header h1{font-size:2rem}.search-container,.player-controls,.player-container{padding:15px}.search{flex-direction:column}.search input{min-width:100%}iframe{height:300px}.notification{top:10px;right:10px;left:10px;max-width:none}.line-status{font-size:0.8rem;gap:8px}}@media (max-width:480px){.header h1{font-size:1.5rem}iframe{height:200px}}body.dark-theme{background:linear-gradient(135deg,#1a237e,#0d47a1)}body.dark-theme .search-container,body.dark-theme .player-controls,body.dark-theme .player-container{background:rgba(26,32,44,0.9);color:white}body.dark-theme .search input{background:rgba(45,55,72,0.7);border-color:#4a5568;color:white}body.dark-theme .search input::placeholder{color:#a0aec0}body.dark-theme .line-status{color:#a0aec0}body.dark-theme iframe{background-color:#2d3748;border-color:#4a5568}.theme-toggle{position:fixed;bottom:20px;right:20px;width:50px;height:50px;border-radius:50%;background:rgba(255,255,255,0.9);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.2);transition:all 0.3s ease;z-index:999}.theme-toggle:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,0.3)}body.dark-theme .theme-toggle{background:rgba(45,55,72,0.9);color:white}.help-btn{position:fixed;bottom:20px;left:20px;width:50px;height:50px;border-radius:50%;background:rgba(255,255,255,0.9);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,0.2);transition:all 0.3s ease;z-index:999;font-size:20px;font-weight:bold}.help-btn:hover{transform:translateY(-3px);box-shadow:0 6px 12px rgba(0,0,0,0.3)}body.dark-theme .help-btn{background:rgba(45,55,72,0.9);color:white}.password-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;align-items:center;justify-content:center;z-index:2000;transition:all 0.3s ease}.password-modal-content{background:white;padding:40px;border-radius:10px;box-shadow:0 8px 32px rgba(0,0,0,0.3);max-width:400px;width:90%;text-align:center;animation:fadeIn 0.3s ease-out}body.dark-theme .password-modal-content{background:rgba(26,32,44,0.95);color:white}.password-modal h2{margin-bottom:20px;color:#37964e}body.dark-theme .password-modal h2{color:#4caf50}.password-modal input{width:100%;padding:12px 15px;border:2px solid #37964e;border-radius:5px;font-size:16px;margin-bottom:20px;outline:none}body.dark-theme .password-modal input{background:rgba(45,55,72,0.7);border-color:#4a5568;color:white}.password-modal .error{color:#f44336;margin-bottom:15px;font-size:0.9rem}@keyframes fadeIn{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.hidden-content{display:none}</style></head><body><div class="password-modal" id="passwordModal"><div class="password-modal-content"><h2>请输入访问密码</h2><input type="password" id="passwordInput" placeholder="请输入密码" autocomplete="off"><div class="error" id="passwordError"></div><button type="button" onclick="checkPassword()">确认</button></div></div><div class="hidden-content" id="mainContent"><div class="container"><div class="header"><h1>VIP视频解析平台</h1><p>支持多种视频平台，高速解析，无广告观看</p></div><div class="instructions"><p>使用说明：在输入框粘贴视频链接，选择解析线路点击播放即可</p><p>支持腾讯视频、爱奇艺、优酷、芒果TV等主流视频平台</p><p>搞个密码，免得傻逼举报和拿来用</p></div><div class="search-container" id="searchContainer"><div class="search"><input type="text" id="videoUrl" placeholder="请输入视频地址，如：https://v.qq.com/..." autocomplete="off"><button type="button" class="reset-btn" onclick="resetInput()">清空</button></div><div class="search"><button type="button" class="parse-btn" onclick="parseVideo(1)">线路一</button><button type="button" class="parse-btn" onclick="parseVideo(2)">线路二</button><button type="button" class="parse-btn" onclick="parseVideo(3)">线路三</button><button type="button" class="parse-btn" onclick="parseVideo(4)">线路四</button><button type="button" class="parse-btn" onclick="parseVideo(5)">线路五</button><button type="button" class="parse-btn" onclick="parseVideo(6)">线路六</button><button type="button" class="parse-btn" onclick="parseVideo(7)">线路七</button><button type="button" class="parse-btn" onclick="parseVideo(8)">线路八</button></div><div class="line-status"><div class="status-item"><span class="status-dot" id="status-1"></span>线路一</div><div class="status-item"><span class="status-dot" id="status-2"></span>线路二</div><div class="status-item"><span class="status-dot" id="status-3"></span>线路三</div><div class="status-item"><span class="status-dot" id="status-4"></span>线路四</div><div class="status-item"><span class="status-dot" id="status-5"></span>线路五</div><div class="status-item"><span class="status-dot" id="status-6"></span>线路六</div><div class="status-item"><span class="status-dot" id="status-7"></span>线路七</div><div class="status-item"><span class="status-dot" id="status-8"></span>线路八</div></div></div><div class="loading" id="loading"><div class="spinner"></div><p>正在解析视频，请稍候...</p></div><div class="player-controls" id="playerControls"><div class="search"><button type="button" class="parse-btn" onclick="changeParseLine()">更换视频地址或线路</button><button type="button" class="reset-btn" onclick="resetInput()">返回首页</button></div></div><div class="player-container" id="playerContainer"><iframe src="" frameborder="0" id="player" scrolling="no" allowfullscreen allowtransparency></iframe></div></div><div class="notification" id="notification"></div><div class="theme-toggle" id="themeToggle"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></div><div class="help-btn" id="helpBtn">?</div></div><script>const correctPassword='114514';const parseUrls={1:atob('aHR0cHM6Ly93d3cucGxheW0zdTguY24vamlleGkucGhwP3VybD0='),2:atob('aHR0cHM6Ly9pbTE5MDcudG9wLz9qeD0='),3:atob('aHR0cHM6Ly9qeC55b3VrdXNob3UuY29tL2lmcmFtZS5waHA/dXJsPQ=='),4:atob('aHR0cHM6Ly9hcGkuc3BqeC5saXZlLz91cmw9'),5:atob('aHR0cHM6Ly9hcGkuc3BqeC5zaXRlLz91cmw9'),6:atob('aHR0cHM6Ly9hcGkudmlwangubGl2ZS8/dXJsPQ=='),7:atob('aHR0cHM6Ly9hcGkudmlwanguc2l0ZS8/dXJsPQ=='),8:atob('aHR0cHM6Ly9hcGkudmlwangueHl6Lz91cmw9')};const appState={currentLine:0,lineStatus:{},isPlaying:false,lastUrl:'',loadTimeout:null,isAuthenticated:false};const elements={videoInput:document.getElementById('videoUrl'),player:document.getElementById('player'),loading:document.getElementById('loading'),playerControls:document.getElementById('playerControls'),playerContainer:document.getElementById('playerContainer'),searchContainer:document.getElementById('searchContainer'),header:document.querySelector('.header'),instructions:document.querySelector('.instructions'),notification:document.getElementById('notification'),themeToggle:document.getElementById('themeToggle'),helpBtn:document.getElementById('helpBtn'),passwordModal:document.getElementById('passwordModal'),passwordInput:document.getElementById('passwordInput'),passwordError:document.getElementById('passwordError'),mainContent:document.getElementById('mainContent')};function init(){const isAuthenticated=sessionStorage.getItem('isAuthenticated')==='true';if(isAuthenticated){appState.isAuthenticated=true;showMainContent()}if(elements.passwordInput){elements.passwordInput.addEventListener('keyup',function(event){if(event.key==='Enter'){checkPassword()}});elements.passwordInput.focus()}}function checkPassword(){const password=elements.passwordInput.value.trim();if(!password){showPasswordError('请输入密码');return}if(password===correctPassword){appState.isAuthenticated=true;sessionStorage.setItem('isAuthenticated','true');showMainContent()}else{showPasswordError('密码错误，请重新输入');elements.passwordInput.value='';elements.passwordInput.focus()}}function showPasswordError(message){elements.passwordError.textContent=message;elements.passwordError.style.display='block';setTimeout(()=>{elements.passwordError.style.display='none';},3000)}function showMainContent(){elements.passwordModal.style.display='none';elements.mainContent.style.display='block';for(let i=1;i<=8;i++){updateLineStatus(i,'unknown')}testLineAvailability();restoreUserSettings();setupEventListeners();checkUrlParams()}function showNotification(message,type='info',duration=3000){elements.notification.textContent=message;elements.notification.className=`notification ${type}`;elements.notification.style.display='block';setTimeout(()=>{elements.notification.style.display='none';},duration)}function updateLineStatus(line,status){appState.lineStatus[line]=status;const statusDot=document.getElementById(`status-${line}`);if(statusDot){statusDot.className=`status-dot ${status}`}}function testLineAvailability(){for(let i=1;i<=8;i++){updateLineStatus(i,'testing');setTimeout(()=>{const isOnline=Math.random()>0.3;updateLineStatus(i,isOnline?'online':'offline');},1000+i*200)}}function updateUIState(isPlaying){appState.isPlaying=isPlaying;if(isPlaying){elements.playerControls.style.display='block';elements.playerContainer.style.display='block';elements.searchContainer.style.display='none';elements.header.style.display='none';elements.instructions.style.display='none'}else{elements.playerControls.style.display='none';elements.playerContainer.style.display='none';elements.loading.style.display='none';elements.searchContainer.style.display='block';elements.header.style.display='block';elements.instructions.style.display='block'}}function isValidUrl(string){try{new URL(string);const supportedDomains=['v.qq.com','www.iqiyi.com','youku.com','tv.sohu.com','mgtv.com','bilibili.com','douban.com','le.com'];const url=new URL(string);const domain=url.hostname;return supportedDomains.some(supportedDomain=>domain.includes(supportedDomain))}catch(_){return false}}function parseVideo(line){const videoUrl=elements.videoInput.value.trim();if(!videoUrl){showNotification('请输入视频地址','error');return}if(!isValidUrl(videoUrl)){showNotification('请输入有效的视频地址，目前支持腾讯视频、爱奇艺、优酷等主流平台','error');return}appState.currentLine=line;appState.lastUrl=videoUrl;elements.loading.style.display='block';const parseUrl=parseUrls[line]+encodeURIComponent(videoUrl);let isLoaded=false;elements.player.onload=null;if(appState.loadTimeout){clearTimeout(appState.loadTimeout)}elements.player.onload=function(){if(!isLoaded){isLoaded=true;if(appState.loadTimeout){clearTimeout(appState.loadTimeout)}elements.loading.style.display='none';updateLineStatus(line,'online');showNotification(`线路${line}解析成功`,'success');updateUIState(true)}};elements.player.onerror=function(){handleParseError(line)};appState.loadTimeout=setTimeout(()=>{if(!isLoaded){handleParseError(line)}},30000);try{elements.player.src=parseUrl}catch(error){handleParseError(line);console.error('设置播放器src失败:',error)}}function handleParseError(line){elements.loading.style.display='none';updateLineStatus(line,'offline');showNotification(`线路${line}解析失败，请尝试其他线路`,'error');if(elements.player.src&&elements.player.src!==''){showNotification('保持当前播放状态','info')}}function resetInput(){elements.videoInput.value='';elements.player.src='';appState.currentLine=0;updateUIState(false);for(let i=1;i<=8;i++){if(appState.lineStatus[i]==='offline'){updateLineStatus(i,'testing');setTimeout(()=>{const isOnline=Math.random()>0.3;updateLineStatus(i,isOnline?'online':'offline');},500+i*100)}}elements.videoInput.focus()}function changeParseLine(){elements.searchContainer.style.display='block';elements.playerControls.style.display='none';elements.header.style.display='block';elements.instructions.style.display='block';showNotification('请选择新的解析线路','info')}function toggleTheme(){const isDark=document.body.classList.toggle('dark-theme');localStorage.setItem('theme',isDark?'dark':'light');showNotification(isDark?'已切换到暗色模式':'已切换到亮色模式','success')}function showHelp(){showNotification('快捷键: Enter解析/R重置/1-8选择线路/T切换主题','info',5000)}function getUrlParameter(name){name=name.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');const regex=new RegExp('[\\?&]'+name+'=([^&#]*)');const results=regex.exec(window.location.href);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '))}function restoreUserSettings(){const savedTheme=localStorage.getItem('theme');if(savedTheme==='dark'){document.body.classList.add('dark-theme')}}function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}function throttle(func,limit){let inThrottle;return function(){const args=arguments;const context=this;if(!inThrottle){func.apply(context,args);inThrottle=true;setTimeout(()=>inThrottle=false,limit)}}}function setupEventListeners(){elements.videoInput.addEventListener('keyup',function(event){if(event.key==='Enter'){parseVideo(appState.currentLine||1)}else if(event.key==='Escape'){resetInput()}});document.addEventListener('keyup',function(event){if(event.target.tagName!=='INPUT'&&event.target.tagName!=='TEXTAREA'){const key=parseInt(event.key);if(key>=1&&key<=8){if(elements.videoInput.value.trim()){parseVideo(key)}}else if(event.key.toLowerCase()==='r'){resetInput()}else if(event.key.toLowerCase()==='t'){toggleTheme()}else if(event.key.toLowerCase()==='h'){showHelp()}}});elements.themeToggle.addEventListener('click',toggleTheme);elements.helpBtn.addEventListener('click',showHelp);window.addEventListener('resize',throttle(function(){},200));window.addEventListener('beforeunload',function(){if(appState.loadTimeout){clearTimeout(appState.loadTimeout)}})}function checkUrlParams(){const urlParam=getUrlParameter('url');if(urlParam){elements.videoInput.value=urlParam;setTimeout(()=>parseVideo(1),500)}}window.addEventListener('DOMContentLoaded',init);</script></body></html>
